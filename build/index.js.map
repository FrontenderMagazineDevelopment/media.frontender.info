{"version":3,"sources":["../source/index.js"],"names":["require","name","version","ENV_PATH","__dirname","existsSync","Error","config","path","process","env","FACEBOOK_API","FACEBOOK_CLIENT","result","json","console","log","userToken","access_token","method","headers","Authorization","r","accountsJSON","error"],"mappings":"aAAA,0BACA,8C,+CACA,0BACA,sB,qCACA,8B,6CACA,iD,2hBAEA,GAAI,cACwBA,QAAQ,iBAAR,CADxB,CACMC,IADN,UACMA,IADN,CACYC,OADZ,UACYA,OADZ,CAEF,GAAMC,UAAW,kBAAQC,SAAR,CAAmB,YAAnB,CAAjB,CAEA,GAAI,CAAC,aAAGC,UAAH,CAAcF,QAAd,CAAL,CAA8B,KAAM,IAAIG,MAAJ,CAAU,4BAAV,CAAN,CAC9B,iBAAOC,MAAP,CAAc,CAAEC,KAAML,QAAR,CAAd,EAGA,uDAAC,iMAEsB,+FAAuEM,QAAQC,GAAR,CAAYC,YAAnF,mBAAiHF,QAAQC,GAAR,CAAYE,eAA7H,kCAFtB,QAEOC,MAFP,qCAGoBA,QAAOC,IAAP,EAHpB,QAGOA,IAHP,eAICC,QAAQC,GAAR,CAAY,QAAZ,CAAsBF,IAAtB,EACMG,SALP,CAKmBH,KAAKI,YALxB,CAOC;AACA;AACA;AACA;AACA;AACA;AACA;AAbD,uBAeiB,6GAAqFD,SAArF,CAAkG,CAChHE,OAAQ,MADwG,CAEhHC,QAAS,CACPC,iBAAkBJ,SADX,CAFuG,CAAlG,CAfjB,SAeOK,CAfP,sCAoB4BA,GAAER,IAAF,EApB5B,SAoBOS,YApBP,eAqBCR,QAAQC,GAAR,CAAYO,YAAZ,EAEA;AACA;AACA;AACA;AA1BD,2DAAD,IA8BD,CAAC,MAAOC,KAAP,CAAc,CACdT,QAAQC,GAAR,CAAYQ,KAAZ,CACD","file":"index.js","sourcesContent":["import 'babel-polyfill';\nimport Twitter from './lib/twitter/twitter';\nimport { resolve } from 'path';\nimport fs from 'fs';\nimport dotenv from 'dotenv';\nimport fetch from 'isomorphic-fetch';\n\ntry {\n  const { name, version } = require('../package.json');\n  const ENV_PATH = resolve(__dirname, '../../.env');\n\n  if (!fs.existsSync(ENV_PATH)) throw new Error('Envirnment files not found');\n  dotenv.config({ path: ENV_PATH });\n\n\n  (async function() {\n\n    const result = await fetch(`https://graph.facebook.com/v2.11/oauth/access_token?client_id=${process.env.FACEBOOK_API}&client_secret=${process.env.FACEBOOK_CLIENT}&grant_type=client_credentials`);\n    const json = await result.json();\n    console.log('json: ', json);\n    const userToken = json.access_token;\n\n    // const result = await fetch(`https://graph.facebook.com/v2.11/me/accounts`, {\n    //   headers: {\n    //     Authorization: `${process.env.FACEBOOK_TOKEN}`\n    //   }\n    // });\n    // const json = await result.json();\n    // console.log(json);\n\n    const r = await fetch(`https://graph.facebook.com/1385684418362322/feed?message=Hello&access_token=${userToken}`, {\n      method: 'POST',\n      headers: {\n        Authorization: `${userToken}`,\n      }});\n    const accountsJSON = await r.json();\n    console.log(accountsJSON);\n\n    // const twitter = new Twitter();\n    //\n    // const result = await twitter.tweet('Это тестовый твит. Нечего смотреть, проходите мимо.');\n    // console.log(result);\n  })();\n\n\n} catch (error) {\n  console.log(error);\n}\n"]}